<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Explore apartamentos, casas e terrenos à venda em Londrina, nos bairros Gleba Palhano, Centro e mais.">
    <meta name="keywords" content="imóveis Londrina, apartamentos Gleba Palhano, casas Centro, terrenos Bela Suíça">
    <meta name="author" content="Imobiliárias de Londrina">
    <title>Imóveis à Venda - Imobiliárias de Londrina</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="header">
        <div class="container">
            <h1 class="logo">Imobiliárias de Londrina</h1>
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <nav class="nav">
                <a href="index.html" class="nav-link">Home</a>
                <a href="imoveis.html" class="nav-link">Imóveis</a>
                <a href="#sobre" class="nav-link">Sobre</a>
                <a href="#contato" class="nav-link">Contato</a>
                <a href="painel.html" class="btn btn-cta">Área da Imobiliária</a>
            </nav>
        </div>
    </header>
    <section class="hero">
        <div class="container">
            <h2 class="hero-title">Imóveis em Londrina</h2>
            <p class="hero-subtitle">Encontre apartamentos, casas e terrenos nos melhores bairros.</p>
            <form id="search-form" class="search-form">
                <div class="filter-group">
                    <label for="tipo">Tipo</label>
                    <select name="tipo" id="tipo">
                        <option value="">Qualquer</option>
                        <option value="apartamento">Apartamento</option>
                        <option value="casa">Casa</option>
                        <option value="terreno">Terreno</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="bairro">Bairro</label>
                    <select name="bairro" id="bairro">
                        <option value="">Qualquer</option>
                        <option value="gleba-palhano">Gleba Palhano</option>
                        <option value="centro">Centro</option>
                        <option value="jardim-londrilar">Jardim Londrilar</option>
                        <option value="bela-suica">Bela Suíça</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="precoMin">Preço Mínimo (R$)</label>
                    <input type="number" name="precoMin" id="precoMin" placeholder="100000" min="0">
                    <span class="error-message" id="precoMin-error">Preço inválido</span>
                </div>
                <div class="filter-group">
                    <label for="precoMax">Preço Máximo (R$)</label>
                    <input type="number" name="precoMax" id="precoMax" placeholder="500000" min="0">
                    <span class="error-message" id="precoMax-error">Preço inválido</span>
                </div>
                <div class="filter-group">
                    <label for="quartos">Quartos</label>
                    <select name="quartos" id="quartos">
                        <option value="">Qualquer</option>
                        <option value="1">1 quarto</option>
                        <option value="2">2 quartos</option>
                        <option value="3">3 quartos</option>
                        <option value="4+">4+ quartos</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="areaMin">Área Mínima (m²)</label>
                    <input type="number" name="areaMin" id="areaMin" placeholder="50" min="0">
                    <span class="error-message" id="areaMin-error">Área inválida</span>
                </div>
                <div class="filter-group">
                    <label for="areaMax">Área Máxima (m²)</label>
                    <input type="number" name="areaMax" id="areaMax" placeholder="200" min="0">
                    <span class="error-message" id="areaMax-error">Área inválida</span>
                </div>
                <div class="filter-group">
                    <button type="submit" class="btn btn-cta">Buscar</button>
                    <button type="reset" class="btn btn-reset">Limpar</button>
                </div>
            </form>
        </div>
    </section>
    <section id="imoveis" class="imoveis-section">
        <div class="container">
            <h3 class="section-title">Nossos Imóveis</h3>
            <p id="results-count" class="results-count"></p>
            <div id="imoveis-lista" class="imoveis-lista">
                <div class="imovel-card">
                    <img src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?q=80&w=300&auto=format&fit=crop" alt="Apartamento Gleba Palhano" onerror="this.src='https://via.placeholder.com/300x200?text=Imagem+Indisponível'; this.alt='Imagem fallback'">
                    <div class="card-body">
                        <h5 class="card-title">Apartamento 3 quartos - Gleba Palhano</h5>
                        <p class="card-text">R$ 600.000</p>
                        <p class="card-text">Gleba Palhano | 150m² | 3 quartos</p>
                        <a href="imovel.html?id=IMOB004" class="btn btn-cta">Ver detalhes</a>
                    </div>
                </div>
                <div class="imovel-card">
                    <img src="https://images.unsplash.com/photo-1600585154526-990dced4db0d?q=80&w=300&auto=format&fit=crop" alt="Apartamento Centro" onerror="this.src='https://via.placeholder.com/300x200?text=Imagem+Indisponível'; this.alt='Imagem fallback'">
                    <div class="card-body">
                        <h5 class="card-title">Apartamento 2 quartos - Centro</h5>
                        <p class="card-text">R$ 300.000</p>
                        <p class="card-text">Centro | 80m² | 2 quartos</p>
                        <a href="imovel.html?id=IMOB005" class="btn btn-cta">Ver detalhes</a>
                    </div>
                </div>
                <div class="imovel-card">
                    <img src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?q=80&w=300&auto=format&fit=crop" alt="Casa Gleba Palhano" onerror="this.src='https://via.placeholder.com/300x200?text=Imagem+Indisponível'; this.alt='Imagem fallback'">
                    <div class="card-body">
                        <h5 class="card-title">Casa 4 quartos - Gleba Palhano</h5>
                        <p class="card-text">R$ 1.200.000</p>
                        <p class="card-text">Gleba Palhano | 300m² | 4 quartos</p>
                        <a href="imovel.html?id=IMOB006" class="btn btn-cta">Ver detalhes</a>
                    </div>
                </div>
                <div class="imovel-card">
                    <img src="https://images.unsplash.com/photo-1501785887-3b7b4f4e4f4f?q=80&w=300&auto=format&fit=crop" alt="Terreno Gleba Palhano" onerror="this.src='https://via.placeholder.com/300x200?text=Imagem+Indisponível'; this.alt='Imagem fallback'">
                    <div class="card-body">
                        <h5 class="card-title">Terreno 800m² - Gleba Palhano</h5>
                        <p class="card-text">R$ 500.000</p>
                        <p class="card-text">Gleba Palhano | 800m²</p>
                        <a href="imovel.html?id=IMOB007" class="btn btn-cta">Ver detalhes</a>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <footer id="contato" class="footer">
        <div class="container">
            <p>© 2025 Imobiliárias de Londrina. Todos os direitos reservados.</p>
            <p>contato@imobiliariasdelondrina.com.br | (43) 99999-9999</p>
        </div>
    </footer>
    <script>
        // Hamburger Menu
        document.querySelector('.hamburger').addEventListener('click', () => {
            document.querySelector('.nav').classList.toggle('active');
        });

        // Search Form Validation
        document.getElementById('search-form').addEventListener('submit', (e) => {
            e.preventDefault();
            let valid = true;
            const precoMin = parseInt(document.getElementById('precoMin').value) || 0;
            const precoMax = parseInt(document.getElementById('precoMax').value) || Infinity;
            const areaMin = parseInt(document.getElementById('areaMin').value) || 0;
            const areaMax = parseInt(document.getElementById('areaMax').value) || Infinity;

            if (precoMin > precoMax) {
                document.getElementById('precoMin-error').style.display = 'block';
                valid = false;
            } else {
                document.getElementById('precoMin-error').style.display = 'none';
            }

            if (areaMin > areaMax) {
                document.getElementById('areaMin-error').style.display = 'block';
                valid = false;
            } else {
                document.getElementById('areaMin-error').style.display = 'none';
            }

            if (valid) {
                filterImoveis();
            }
        });

        // Reset Search Form
        document.getElementById('search-form').addEventListener('reset', () => {
            const imoveis = document.querySelectorAll('.imovel-card');
            imoveis.forEach(imovel => imovel.style.display = 'block');
            document.getElementById('results-count').textContent = `${imoveis.length} imóveis encontrados`;
            document.querySelectorAll('.error-message').forEach(error => error.style.display = 'none');
        });

        // Filter Imóveis
        function filterImoveis() {
            const urlParams = new URLSearchParams(window.location.search);
            const tipo = urlParams.get('tipo') ? urlParams.get('tipo').toLowerCase() : document.getElementById('tipo').value.toLowerCase();
            const bairro = urlParams.get('bairro') ? urlParams.get('bairro').toLowerCase() : document.getElementById('bairro').value.toLowerCase();
            const precoMin = urlParams.get('precoMin') ? parseInt(urlParams.get('precoMin')) : (document.getElementById('precoMin').value ? parseInt(document.getElementById('precoMin').value) : 0);
            const precoMax = urlParams.get('precoMax') ? parseInt(urlParams.get('precoMax')) : (document.getElementById('precoMax').value ? parseInt(document.getElementById('precoMax').value) : Infinity);
            const quartos = urlParams.get('quartos') ? urlParams.get('quartos') : document.getElementById('quartos').value;
            const areaMin = urlParams.get('areaMin') ? parseInt(urlParams.get('areaMin')) : (document.getElementById('areaMin').value ? parseInt(document.getElementById('areaMin').value) : 0);
            const areaMax = urlParams.get('areaMax') ? parseInt(urlParams.get('areaMax')) : (document.getElementById('areaMax').value ? parseInt(document.getElementById('areaMax').value) : Infinity);

            const imoveis = document.querySelectorAll('.imovel-card');
            let count = 0;

            imoveis.forEach(imovel => {
                const titulo = imovel.querySelector('.card-title').textContent.toLowerCase();
                const precoText = imovel.querySelector('.card-text').textContent.replace(/[^0-9]/g, '');
                const imovelPreco = parseInt(precoText);
                const detalhes = imovel.querySelectorAll('.card-text')[1].textContent.toLowerCase();
                const areaMatch = detalhes.match(/(\d+)m²/);
                const imovelArea = areaMatch ? parseInt(areaMatch[1]) : 0;
                const quartosMatch = detalhes.match(/(\d+)\s*quarto/);
                const imovelQuartos = quartosMatch ? parseInt(quartosMatch[1]) : 0;

                const matchesTipo = !tipo || titulo.includes(tipo);
                const matchesBairro = !bairro || detalhes.includes(bairro.replace('-', ' '));
                const matchesPreco = imovelPreco >= precoMin && imovelPreco <= precoMax;
                const matchesQuartos = !quartos || (quartos === '4+' ? imovelQuartos >= 4 : imovelQuartos === parseInt(quartos));
                const matchesArea = imovelArea >= areaMin && imovelArea <= areaMax;

                if (matchesTipo && matchesBairro && matchesPreco && matchesQuartos && matchesArea) {
                    imovel.style.display = 'block';
                    count++;
                } else {
                    imovel.style.display = 'none';
                }
            });

            document.getElementById('results-count').textContent = count > 0 ? `${count} imóvel${count > 1 ? 'eis' : ''} encontrado${count > 1 ? 's' : ''}` : 'Nenhum imóvel encontrado';
        }

        // Load Filters from URL
        window.addEventListener('load', () => {
            const imoveis = document.querySelectorAll('.imovel-card');
            document.getElementById('results-count').textContent = `${imoveis.length} imóveis encontrados`;
            if (new URLSearchParams(window.location.search).toString()) {
                const urlParams = new URLSearchParams(window.location.search);
                document.getElementById('tipo').value = urlParams.get('tipo') || '';
                document.getElementById('bairro').value = urlParams.get('bairro') || '';
                document.getElementById('precoMin').value = urlParams.get('precoMin') || '';
                document.getElementById('precoMax').value = urlParams.get('precoMax') || '';
                document.getElementById('quartos').value = urlParams.get('quartos') || '';
                document.getElementById('areaMin').value = urlParams.get('areaMin') || '';
                document.getElementById('areaMax').value = urlParams.get('areaMax') || '';
                filterImoveis();
            }
        });
    </script>
</body>
</html>
